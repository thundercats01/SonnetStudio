<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <div th:insert="partials/head :: head"></div>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Other USERS profile page</title>

    <!--  comment out-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="../../static/CSS/badges.css">

    <style>
        .profile-container {
            /*background-color: #f7f7f7;*/
            border-left: 2px solid #e0e0e0;
            box-shadow: -5px 0 10px rgba(0, 0, 0, 0.1);
            padding: 10px;
            margin-left: 20px;
        }
        .card-header img {
            margin-right: 10px;
        }
    </style>

</head>
<header>
    <div th:insert="partials/navbar :: nav-bar"></div>
</header>
<body class="bg-gold">

<div class="container-fluid">

    <div class="row">
        <div class="col-8">
            <div class="row mb-4">
                <div class="col-md-12">
                    <div class="card shadow-sm">

                        <!-- Avatar and Username section -->
                        <div class="card-header d-flex align-items-center">
                            <img src="path_to_avatar.jpg" alt="User Avatar" class="rounded-circle" width="40" height="40">
                            <span class="ms-3">Username</span>
                        </div>

                        <div class="card-body">
                            <p class="card-text">Song verse here...</p>

                            <!-- Comments Section - Start hidden by default -->
                            <div class="comments-section mt-3" style="display: none;">

                                <!-- Add Comment Section -->
                                <div class="add-comment mt-2">
                                    <input type="text" class="form-control" placeholder="Add a comment..." />
                                    <button class="btn btn-primary mt-2">Post Comment</button>
                                </div>

                                <!-- List of all comments -->
                                <div class="comment">
                                    <strong>Username1:</strong> Great song!
                                </div>
                                <div class="comment">
                                    <strong>Username2:</strong> Love this!
                                </div>
                                <!-- ... add more comments as needed -->
                            </div>

                            <!-- The Comments and Like buttons -->
                            <div class="d-flex justify-content-between align-items-center">
                                <div class="btn-group">
                                    <!-- Add data-comments-toggle attribute to identify it as the button that will toggle comments -->
                                    <button type="button" class="btn btn-sm btn-outline-secondary" data-comments-toggle>Show Comments</button>
                                    <button type="button" class="btn btn-sm btn-outline-secondary">Like</button>
                                </div>
                                <span class="latest-comment">Latest: <strong>Username1:</strong> Great song!</span> <!-- Display the most recent comment -->
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-4 pt-4 pb-2">

            <div class="container-fluid profile-container">
                <div class="row">
                    <div class="col d-flex justify-content-center">
                        <img src="/capstone_IMGs/badges/badge-default.png"
                             class="img-fluid rounded-circle badge-img-profile" alt="Responsive image">
<!--                        <button class="btn1">edit</button>-->

                    </div>
                    <div class="col">

                        <div class="row d-flex justify-content-center">
                            (USERNAME)
                        </div>

                        <div class="row d-flex justify-content-center">
                            BIO
                        </div>
                    </div>

                    <div class="row d-flex justify-content-center pt-5">
                        POINTS
                    </div>

                    <div class="row d-flex justify-content-center p-5">
                        AWARDS
                    </div>

                    <div class="row">
                        <div class="col d-flex justify-content-center">
                            FOLLOWERS, a button
                        </div>
                        <div class="col d-flex justify-content-center">
                            FOLLOWING, a button
                        </div>
                    </div>

                </div>

            </div>
        </div>

    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>
<script>
    // Event listener for the comments toggle button
    document.addEventListener('click', function (e) {
        if (e.target && e.target.hasAttribute('data-comments-toggle')) {
            // Get the comments section related to the clicked button
            const commentsSection = e.target.closest('.card-body').querySelector('.comments-section');

            // Toggle its visibility
            if (commentsSection.style.display === 'none') {
                commentsSection.style.display = 'block';
                e.target.textContent = 'Hide Comments'; // Change button text
            } else {
                commentsSection.style.display = 'none';
                e.target.textContent = 'Show Comments'; // Change button text
            }
        }

        if (e.target && e.target.textContent === 'Post Comment') {
            const commentInput = e.target.previousElementSibling;
            const commentText = commentInput.value.trim();

            if (commentText) {
                // Create the comment div and set its content
                const newComment = document.createElement('div');
                newComment.className = 'comment';
                newComment.innerHTML = `<strong>YourUsername:</strong> ${commentText}`;

                // Append the new comment above the "Add Comment" section
                e.target.closest('.comments-section').insertBefore(newComment, e.target.closest('.add-comment'));

                // Clear the input field
                commentInput.value = '';
            } else {
                alert('Please enter a comment.');
            }
        }
    });
</script>
</body>
</html>